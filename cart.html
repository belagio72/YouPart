<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–æ–ª–∏—á–∫–∞ | YouPart</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Sansation&display=swap" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>
<body>
  <!-- –î–µ—Å–∫—Ç–æ–ø —Ö–µ–¥—ä—Ä -->
  <header id="desktop-header">
    <div class="header-container">
      <div class="logo-container">
        <img src="youpart logo.png" alt="–õ–æ–≥–æ" />
  
        <div class="contact-info-inline">
          <a href="mailto:contact@youpart.net">contact@youpart.net</a> | 
          <a href="tel:+359885086269">+359 88 508 6269</a>
  </div>

  <div class="logo-text">
    <h1><span class="red-word">–ê–≤—Ç–æ—á–∞—Å—Ç–∏</span> –≤—Ç–æ—Ä–∞ —É–ø–æ—Ç—Ä–µ–±–∞<br>–æ—Ç –ï–≤—Ä–æ–ø–∞ –∏ –°–µ–≤–µ—Ä–Ω–∞ –ê–º–µ—Ä–∏–∫–∞</h1>
  </div>
</div>

      <div class="header-right">
        
        <div id="cart-container" class="cart-container">
          <a href="cart.html" class="cart-link">
            <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
              <path d="M160 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm256 0a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM165.1 288h230.7a48 48 0 0 0 45.3-30.5l65.9-165.2A16 16 0 0 0 493.3 80H128l-12.4-37.1A16 16 0 0 0 100.3 32H16A16 16 0 0 0 0 48v16a16 16 0 0 0 16 16h66.7l94 281.1A80 80 0 0 0 256 416h144a16 16 0 0 0 0-32H256a48 48 0 0 1-45.3-30.5l-8.6-21.5z"/>
            </svg>
            <span id="cart-count" class="cart-count">0</span>
          </a>
        </div>
      </div>
    </div>
  </header>
<div id="mobile-header">
  <div class="mobile-header-top">
  <span><span style="color:#F72616;">–ß–∞—Å—Ç–∏</span> –≤—Ç–æ—Ä–∞ —É–ø–æ—Ç—Ä–µ–±–∞ –æ—Ç –ï–≤—Ä–æ–ø–∞ –∏ –°–ê–©</span>
</div>

  <div class="mobile-header-bottom">
    <img src="youpart logo.png" alt="–õ–æ–≥–æ">
    <div class="mobile-header-right">
      <a href="cart.html" class="cart-icon-mobile">
        <svg style="width:26px;height:26px;fill:black;" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
          <path d="M160 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm256 0a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM165.1 288h230.7a48 48 0 0 0 45.3-30.5l65.9-165.2A16 16 0 0 0 493.3 80H128l-12.4-37.1A16 16 0 0 0 100.3 32H16A16 16 0 0 0 0 48v16a16 16 0 0 0 16 16h66.7l94 281.1A80 80 0 0 0 256 416h144a16 16 0 0 0 0-32H256a48 48 0 0 1-45.3-30.5l-8.6-21.5z"/>
        </svg>
        <span id="cart-count-mobile">0</span>
      </a>
    </div>
  </div>
  <div class="mobile-contact-info">
    <a href="mailto:contact@youpart.net">contact@youpart.net</a> |
    <a href="tel:+359885086269">+359 88 508 6269</a>
  </div>
</div>
</div>
<div class="custom-buttons">
  <a class="uiverse-btn" href="index.html">–ù–∞—á–∞–ª–æ</a>
  <a class="uiverse-btn" href="how-it-works.html">–ö–∞–∫ —Ä–∞–±–æ—Ç–∏?</a>
  <a class="uiverse-btn" href="delivery-returns.html">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –≤—Ä—ä—â–∞–Ω–µ</a>
</div>


  <main class="cart-container">
    <h1 class="cart-title">–ö–æ–ª–∏—á–∫–∞</h1>
    <p id="welcomeUser"></p>
    
    <div id="cart" class="cart-items">
      <!-- –ü—Ä–æ–¥—É–∫—Ç–∏—Ç–µ —â–µ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç —Ç—É–∫ -->
    </div>

    <div class="cart-summary">
      <div class="cart-summary-row">
        <span>–ü—Ä–æ–¥—É–∫—Ç–∏:</span>
        <span id="productTotal">0.00 –ª–≤.</span>
      </div>
      <div class="cart-summary-row">
        <span>–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ —Å—É–º–∞:</span>
        <span id="extraTotal">0.00 –ª–≤.</span>
      </div>
      <div class="cart-summary-row">
        <span>–û–±—â–æ (EUR):</span>
        <span id="finalTotalEUR">0.00 ‚Ç¨</span>
      </div>
      <div class="cart-summary-row cart-summary-total">
        <span>–û–±—â–æ (BGN):</span>
        <span id="finalTotal">0.00 –ª–≤.</span>
      </div>
    </div>

<div class="cart-bottom-bar mobile-center">
  <div class="order-row">
    <button id="orderBtn" class="btn btn-primary" onclick="showCheckout()" disabled>–ü–æ—Ä—ä—á–∞–π</button>

    <input type="checkbox" id="termsCheckbox" />
    <label for="termsCheckbox" class="terms-label">
      –ó–∞–ø–æ–∑–Ω–∞—Ç —Å—ä–º –∏ —Å—ä–º —Å—ä–≥–ª–∞—Å–µ–Ω —Å<br>
      <a href="delivery-returns.html">—É—Å–ª–æ–≤–∏—è—Ç–∞ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –∏ –≤—Ä—ä—â–∞–Ω–µ</a>
    </label>
  </div>
</div>



  <div class="extra-charge-section">
    <!--<button class="btn btn-secondary" onclick="toggleExtraCharge()">‚ûï –î–æ–±–∞–≤–∏ —Å—É–º–∞</button>-->
    <div id="extraChargeInputs" class="extra-charge-inputs">
      <label>–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ —Å—É–º–∞:</label>
      <div class="extra-input-group">
        <input type="number" id="extraBGN" placeholder="–ª–≤." min="0">
        <span>,</span>
        <input type="number" id="extraSt" placeholder="—Å—Ç." min="0" max="99">
      </div>
    </div>
  </div>
</div>


    <div id="checkoutSection" class="checkout-section">
      <h2>–î–∞–Ω–Ω–∏ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</h2>
      <form class="checkout-form">
        <div class="form-group">
          <label for="name">–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è</label>
          <input type="text" id="name" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è" required>
        </div>
        <div class="form-group">
          <label for="email">–ò–º–µ–π–ª –∞–¥—Ä–µ—Å</label>
          <input type="email" id="email" placeholder="–ò–º–µ–π–ª –∞–¥—Ä–µ—Å" autocomplete="off" required>
        </div>
        <div class="form-group">
          <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä</label>
          <input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω–µ–Ω –Ω–æ–º–µ—Ä" required>
        </div>
        <div class="form-group">
          
      
<div class="form-group">
  <label for="officeSelect">–ò–∑–±–µ—Ä–∏ –æ—Ñ–∏—Å –Ω–∞ –ï–∫–æ–Ω—Ç</label>
  <select id="officeSelect">
    <option value="">-- –ò–∑–±–µ—Ä–∏ –æ—Ñ–∏—Å --</option>
  </select>
</div>

<div class="form-group">
  <div class="delivery-option">
    <input type="checkbox" id="wantAddress">
    <label for="wantAddress">–ñ–µ–ª–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –∞–¥—Ä–µ—Å</label>
  </div>
</div>


<div class="form-group" id="address-group" style="display: none;">
  <label for="address">–ê–¥—Ä–µ—Å</label>
  <input type="text" id="address" placeholder="–≥—Ä–∞–¥, –ø.–∫., —É–ª–∏—Ü–∞, ‚Ññ, –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ">
</div>


      


        <div class="form-group">
          <label><input type="checkbox" id="createAccount"> –°—ä–∑–¥–∞–π –∞–∫–∞—É–Ω—Ç</label>
          <input type="password" id="password1" placeholder="–ü–∞—Ä–æ–ª–∞" style="display: none;">
          <input type="password" id="password2" placeholder="–ü–æ—Ç–≤—ä—Ä–¥–∏ –ø–∞—Ä–æ–ª–∞—Ç–∞" style="display: none;">
        </div>
        <button type="button" class="btn btn-primary" onclick="submitOrder()">–ò–∑–ø—Ä–∞—Ç–∏ –ø–æ—Ä—ä—á–∫–∞</button>
      </form>
      
      <p class="pay-row">
        <button id="payBtn" class="btn btn-primary" type="button" onclick="startCheckout()" style="display: none;">–ü–ª–∞—Ç–∏</button>
        <img id="visaLogo" src="visa-logo.png" alt="–ö–∞—Ä—Ç–æ–≤–∏ –º–µ—Ç–æ–¥–∏ Stripe" style="display: none;">
      </p>


    </div>
  </main>

  <script>
    let cartItems = JSON.parse(localStorage.getItem('cartItems') || '[]');

    function updateCartCount() {
      const count = cartItems.length;
      document.getElementById('cart-count').textContent = count;
      document.getElementById('cart-count-mobile').textContent = count;
      localStorage.setItem('cartItemCount', count);
    }

    function removeItem(index) {
      cartItems.splice(index, 1);
      localStorage.setItem('cartItems', JSON.stringify(cartItems));
      renderCart();
      updateCartCount();
    }

    function renderCart() {
      const cartDiv = document.getElementById('cart');
      cartDiv.innerHTML = '';

      updateCartCount();

      if (cartItems.length === 0) {
        cartDiv.innerHTML = '<div class="cart-empty"><p>–ö–æ–ª–∏—á–∫–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞.</p></div>';
        return;
      }

      cartItems.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${item.image}" alt="${item.title}">
          <!-- –ü—Ä–æ–º—è–Ω–∞ –≤ cart.html -->
<div class="cart-item-details">
  <h3 class="cart-item-title">${item.title}</h3>
  <p class="cart-item-price">${item.priceBGN} –ª–≤. <span class="price-secondary">(${item.priceEUR} ‚Ç¨)</span></p>
  
  <div class="cart-item-actions">
    <button class="btn btn-secondary" onclick="removeItem(${index})">üóë –ü—Ä–µ–º–∞—Ö–Ω–∏</button>
  </div>
</div>
        `;
        cartDiv.appendChild(div);
      });

      

      // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –∏–º–µ–π–ª–∞ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞
      document.getElementById('email').addEventListener('change', (e) => {
        localStorage.setItem('customerEmail', e.target.value);
      });

      // –ò–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Å—É–º–∏—Ç–µ
  const productTotal = cartItems.reduce((sum, item) => sum + parseFloat(item.priceBGN || 0), 0);
  const productTotalEUR = cartItems.reduce((sum, item) => sum + parseFloat(item.priceEUR || 0), 0);
  const extraBGN = parseInt(document.getElementById('extraBGN')?.value || 0);
  const extraSt = parseInt(document.getElementById('extraSt')?.value || 0);
  const extraTotal = extraBGN + (extraSt / 100);
  const finalTotal = productTotal + extraTotal;
  const finalTotalEUR = productTotalEUR + (extraTotal / 1.95583); // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞—Ç–∞ —Å—É–º–∞ –æ—Ç BGN –∫—ä–º EUR

  document.getElementById('productTotal').textContent = productTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('extraTotal').textContent = extraTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('finalTotal').textContent = finalTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('finalTotalEUR').textContent = finalTotalEUR.toFixed(2) + ' ‚Ç¨';
}

    document.getElementById('extraBGN')?.addEventListener('input', renderCart);
    document.getElementById('extraSt')?.addEventListener('input', renderCart);

function showCheckout() {
  const msg = document.getElementById("confirmationMessage");

  if (cartItems.length === 0) {
    msg.textContent = "‚ùó –ö–æ–ª–∏—á–∫–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞.";
    msg.className = "confirmation-message show error";
    setTimeout(() => {
      msg.classList.remove("show");
      msg.classList.add("hidden");
    }, 4000);
    return;
  }

      document.getElementById('checkoutSection').style.display = 'block';
      document.getElementById('checkoutSection').scrollIntoView({ behavior: 'smooth' });
    }

    function toggleExtraCharge() {
      const section = document.getElementById('extraChargeInputs');
      const isHidden = window.getComputedStyle(section).display === 'none';
      section.style.display = isHidden ? 'block' : 'none';
    }
    
function updateTotals() {
  const productTotal = cartItems.reduce((sum, item) => sum + parseFloat(item.priceBGN || 0), 0);
  const productTotalEUR = cartItems.reduce((sum, item) => sum + parseFloat(item.priceEUR || 0), 0);
  const extraBGN = parseInt(document.getElementById('extraBGN')?.value || 0);
  const extraSt = parseInt(document.getElementById('extraSt')?.value || 0);
  const extraTotal = extraBGN + (extraSt / 100);
  const finalTotal = productTotal + extraTotal;
  const finalTotalEUR = productTotalEUR + (extraTotal / 1.95583);

  document.getElementById('productTotal').textContent = productTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('extraTotal').textContent = extraTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('finalTotal').textContent = finalTotal.toFixed(2) + ' –ª–≤.';
  document.getElementById('finalTotalEUR').textContent = finalTotalEUR.toFixed(2) + ' ‚Ç¨';
}


    async function submitOrder() {
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const address = document.getElementById('address').value.trim();
      const createAccount = document.getElementById('createAccount').checked;
      const pass1 = document.getElementById('password1').value;
      const pass2 = document.getElementById('password2').value;
      const payBtn = document.getElementById('payBtn');

      const extraBGN = parseInt(document.getElementById('extraBGN').value || 0);
      const extraSt = parseInt(document.getElementById('extraSt').value || 0);
      const extraTotal = extraBGN + (extraSt / 100);

const msg = document.getElementById("confirmationMessage");

if (!name || !email || !phone || !address) {
  msg.textContent = "‚ùó –ú–æ–ª—è, –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –≤—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞.";
  msg.className = "confirmation-message show error";
  setTimeout(() => {
    msg.classList.remove("show");
    msg.classList.add("hidden");
  }, 4000);
  return;
}

      if (createAccount) {
        if (!pass1 || !pass2 || pass1 !== pass2) {
          alert('‚ùó –ü–∞—Ä–æ–ª–∏—Ç–µ –Ω–µ —Å—ä–≤–ø–∞–¥–∞—Ç –∏–ª–∏ –ª–∏–ø—Å–≤–∞—Ç.');
          return;
        }
      }

      if (cartItems.length === 0) {
        alert('‚ùó –ö–æ–ª–∏—á–∫–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞.');
        return;
      }

      try {
        const res = await fetch('/order', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            name,
            email,
            phone,
            address,
            items: cartItems,
            extraCharge: extraTotal
          })
        });

        const result = await res.json();
        if (result.success) {
          if (result.orderNumber) {
            localStorage.setItem('lastOrderNumber', result.orderNumber);
          }

          const msg = document.getElementById("confirmationMessage");
          msg.textContent = "‚úÖ –î–∞–Ω–Ω–∏—Ç–µ –∑–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ —Å–∞ –ø—Ä–∏–µ—Ç–∏. –ú–æ–ª—è, –ø—Ä–æ–¥—ä–ª–∂–µ—Ç–µ —Å –ø–ª–∞—â–∞–Ω–µ—Ç–æ.";
          msg.classList.remove("hidden");
          msg.classList.add("show");

          payBtn.style.display = 'inline-block';
          document.getElementById('visaLogo').style.display = 'block';
          payBtn.scrollIntoView({ behavior: 'smooth' });

          document.querySelector('button[onclick="submitOrder()"]').disabled = true;

setTimeout(() => {
  msg.classList.remove("show");
  msg.classList.add("hidden");
}, 4000);

        } else {
          alert('‚ö†Ô∏è –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞.');
        }
      } catch (err) {
        console.error('‚ùå –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞:', err);
        alert('‚ö†Ô∏è –ù–µ—É—Å–ø–µ—à–Ω–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞.');
      }
    }

    async function startCheckout() {
      const cart = JSON.parse(localStorage.getItem('cartItems') || '[]');
      const orderNumber = localStorage.getItem('lastOrderNumber') || 'UNKNOWN';

      const extraBGN = parseInt(document.getElementById('extraBGN').value || 0);
      const extraSt = parseInt(document.getElementById('extraSt').value || 0);
      const extraTotal = extraBGN + (extraSt / 100);

      try {
        const res = await fetch('/create-checkout-session', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            items: cart,
            orderNumber,
            extraCharge: extraTotal
          })
        });

        const data = await res.json();
        if (data.url) {
          window.location.href = data.url;
        } else {
          alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ Stripe —Å–µ—Å–∏—è');
        }
      } catch (err) {
        console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –ø–ª–∞—â–∞–Ω–µ:', err);
        alert('–ù–µ—É—Å–ø–µ—à–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –ø–ª–∞—â–∞–Ω–µ—Ç–æ');
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', function() {
      // –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ –Ω–∞ –±—Ä–æ—è –æ—Ç localStorage –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
      const savedCount = localStorage.getItem('cartItemCount');
      if (savedCount) {
        document.getElementById('cart-count').textContent = savedCount;
        document.getElementById('cart-count-mobile').textContent = savedCount;
      }
      
      renderCart();
      
      // –ü–æ–∫–∞–∑–≤–∞–Ω–µ/—Å–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –∑–∞ –ø–∞—Ä–æ–ª–∞
      document.getElementById('createAccount').addEventListener('change', function() {
        const display = this.checked ? 'block' : 'none';
        document.getElementById('password1').style.display = display;
        document.getElementById('password2').style.display = display;
      });
    });
    // –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ –±—É—Ç–æ–Ω–∞ –ø—Ä–∏ –æ—Ç–º–µ—Ç–≤–∞–Ω–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å–∞
document.getElementById('termsCheckbox').addEventListener('change', function() {
  document.getElementById('orderBtn').disabled = !this.checked;
});
  </script>

  <div id="confirmationMessage" class="confirmation-message hidden"></div>
<footer class="site-footer">
  <div class="footer-links">
    <a href="legal.html#terms">–£—Å–ª–æ–≤–∏—è –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ</a>
    <a href="legal.html#privacy">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</a>
    <a href="legal.html#cookies">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –±–∏—Å–∫–≤–∏—Ç–∫–∏</a>
    <a href="legal.html#terms">–ö–æ–Ω—Ç–∞–∫—Ç</a>
  </div>
  <div class="payment-icons">
    <img src="https://img.icons8.com/color/48/visa.png" alt="Visa" />
    <img src="https://img.icons8.com/color/48/mastercard.png" alt="MasterCard" />
    <img src="https://img.icons8.com/color/48/paypal.png" alt="PayPal" />
  </div>
  <div class="copyright">
    ¬© 2025 YouPart.net ‚Äì –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏.
  </div>
</footer>

<script>
async function loadEcontOffices() {
  try {
    const res = await fetch('econt_offices.json'); // –§–∞–π–ª—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –≤ —Å—ä—â–∞—Ç–∞ –ø–∞–ø–∫–∞
    const offices = await res.json();
    const select = document.getElementById('officeSelect');

    offices.forEach(office => {
      const option = document.createElement('option');
      option.value = `${office.name} - ${office.address}`;
      option.textContent = `${office.name} ‚Äì ${office.address}`;
      select.appendChild(option);
    });

    // –ü–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ –∞–¥—Ä–µ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
    select.addEventListener('change', () => {
      if (select.value) {
        document.getElementById('address').value = select.value;
      }
    });
  } catch (err) {
    console.error("‚ö†Ô∏è –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –æ—Ñ–∏—Å–∏—Ç–µ:", err);
  }
}

document.addEventListener('DOMContentLoaded', loadEcontOffices);
</script>
<script>
  const wantAddressCheckbox = document.getElementById('wantAddress');
  const addressGroup = document.getElementById('addressGroup');

  wantAddressCheckbox.addEventListener('change', () => {
    if (wantAddressCheckbox.checked) {
      addressGroup.style.display = 'block';
    } else {
      addressGroup.style.display = 'none';
      document.getElementById('address').value = ''; // –∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–æ –ø—Ä–∏ –æ—Ç–∫–∞–∑
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const officeSelect = document.getElementById('officeSelect');
    const wantAddressCheckbox = document.getElementById('wantAddress');
    const addressGroup = document.getElementById('address-group');

function toggleAddressField() {
  if (wantAddressCheckbox.checked) {
    // –°–∫—Ä–∏–π –æ—Ñ–∏—Å –º–µ–Ω—é—Ç–æ –∏ –≥–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–π
    officeSelect.value = '';
    officeSelect.disabled = true;

    // –ò–∑—á–∏—Å—Ç–∏ –ø–æ–ª–µ—Ç–æ –∑–∞ –∞–¥—Ä–µ—Å –ø—Ä–µ–¥–∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ
    document.getElementById('address').value = '';

    addressGroup.style.display = 'block';
  } else {
    // –ê–∫—Ç–∏–≤–∏—Ä–∞–π –æ—Ñ–∏—Å –º–µ–Ω—é—Ç–æ –∏ —Å–∫—Ä–∏–π –∞–¥—Ä–µ—Å–∞
    officeSelect.disabled = false;
    addressGroup.style.display = 'none';
  }
}


    wantAddressCheckbox.addEventListener('change', toggleAddressField);

    // –°—Ç–∞—Ä—Ç–∏—Ä–∞–π —Å –ø—Ä–∞–≤–∏–ª–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç
    toggleAddressField();
  });
</script>




</body>
</html>